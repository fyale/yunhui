(function(){function H(){try{document.documentElement.doScroll("left")}catch(a){return setTimeout(H,20)}w?n("baseinfotype"):""}function Z(){var a,b,c;for(a=0;a<arguments.length;a+=1){c=arguments[a];b=c.shift();try{"string"===typeof b||b instanceof String?_hasdk[b].apply(_hasdk,c):b.apply(_hasdk,c)}catch(d){console.error("Invalid method:"+b+", please check!!!")}}return this}function I(a){a=a.split("\x26");for(var b=0;b<a.length;b++)if(a[b].split("\x3d")[0].toLocaleLowerCase()==="token".toLocaleLowerCase()){a.splice(b,1);break}return a.join("\x26")}function J(){if(x){var a=(new Date).getTime();y+=a-(K||L)}else K=(new Date).getTime();x=!x}function M(){w?n("baseinfotype"):"";document.removeEventListener("DOMContentLoaded",M,!1)}function N(){k=h(g("idn"));""!==k&&k||(k=O());l(g("idn"),k,P,"/")}function n(a){if(!Q){Q=!0;var b=h(g("id"));if(z&&!h(g("refts"))){var c=(new Date).getTime();l(g("refts"),c,15552E6,"/");u=c}else u=h(g("refts"));A=h(g("viewts"));h(g("idvc"))?l(g("idvc"),h(g("idvc"))-0+1,31536E6,"/"):l(g("idvc"),1,31536E6,"/");B=h(g("idvc"));R=0;""!==b&&b?v=h(g("idts")):(b=O(),c=(new Date).getTime(),l(g("id"),b,31536E6,"/"),l(g("idts"),c,31536E6,"/"),v=c);q?"":q=b;N()}if(""===m)console.error("serverUrl is empty");else if(""===r)console.error("idsite is empty");else{b=[];f={url:I(window.location.href),title:p,at:L,rf:I(z)};"baseinfotype"===a&&(f.res=S+" X "+T,-1!==R&&(c=(new Date).getTime(),f.cwt=c,f.dt=y));if("customEvent"===a||"clickEvent"===a)f.en=C,f.el=D,f.cd=t;"elementEvent"===a&&(f.ei=e.elementId===document?"#document":e.elementId,f.ec=e.cls,f.ps=e.position,f.data=void 0===e.data?"":e.data,f.cd=t);b.push(["type",a]);b.push(["vf",q]);b.push(["rt",(new Date).getTime()]);b.push(["pt",f]);N();b={type:b[0][1],vf:b[1][1],rt:b[2][1],ut:aa.type,cxx:U,idsite:r,suid:V,cvar:e.cvar?e.cvar:E,idts:v,idvc:B,idn:k,refts:u,viewts:A,hsv:"2.1.5.302",data:b[3][1]};c="action_name\x3d"+encodeURIComponent(p);if("elementEvent"===a||"clickEvent"===a)c="link\x3d"+encodeURIComponent(p);a=c+"\x26idsite\x3d"+encodeURIComponent(r)+"\x26rec\x3d1\x26r\x3d886244\x26h\x3d"+(new Date).getHours()+"\x26m\x3d"+(new Date).getMinutes()+"\x26s\x3d"+(new Date).getSeconds()+"\x26url\x3d"+encodeURIComponent(ba)+"\x26_id\x3d"+encodeURIComponent(q)+"\x26_idts\x3d"+v+"\x26_idvc\x3d"+B+"\x26_idn\x3d"+k+"\x26urlref\x3d"+z+"\x26_refts\x3d"+u+"\x26_viewts\x3d"+A+"\x26scd\x3d24\x26vpr\x3d"+S+" X "+T+"\x26cvar\x3d"+encodeURIComponent(e.cvar?e.cvar:E)+"\x26pdf\x3d1\x26qt\x3d0\x26data\x3d"+encodeURIComponent(JSON.stringify(b));if(W){var d=new Image(1,1);m?d.src=m+"?"+a:d.src=""}else if(ca)try{if(navigator.sendBeacon)d=new Blob([a],{type:"application/x-www-form-urlencoded"}),navigator.sendBeacon(m,d);else{var F=new XMLHttpRequest;F.open("POST",m,!0);F.setRequestHeader("Content-type","application/x-www-form-urlencoded");F.send(a)}}catch(da){console.error(da)}else d=document.createElement("script"),d.type="text/javascript",d.async=!0,d.defer=!0,d.src=m+"?"+a,document.getElementsByTagName("script")[0].parentNode.appendChild(d);f={};e={};t={}}}function h(a){return(a=(new RegExp("(^|;)[ ]*"+a+"\x3d([^;]*)")).exec(document.cookie))?decodeURIComponent(a[2]):0}function l(a,b,c,d,e,g){var f;c&&(f=new Date,f.setTime(f.getTime()+c));document.cookie=a+"\x3d"+encodeURIComponent(b)+(c?";expires\x3d"+f.toGMTString():"")+";path\x3d"+(d||"/")+(e?";domain\x3d"+e:"")+(g?";secure":"")}function O(){for(var a=[],b=0;36>b;b++)a[b]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);a[14]="4";a[19]="0123456789abcdef".substr(a[19]&3|8,1);a[8]=a[13]=a[18]=a[23]="";return a.join("")}function g(a){return("HW_"+a+"_"+r+"_"+X).replace(/\./g,"_")}function ea(a,b,c,d){var e=a===document?document:document.getElementById(a);e&&fa(e,c,a,b,d);return this}function fa(a,b,c,d,f){G(a,d,function(d){var g=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,h=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e.elementId=c;e.cls=a.className;e.data=b;e.cvar=f;e.position={res:d.screenX+"X"+d.screenY,vpr:d.clientX+"X"+d.clientY,doc:h+"X"+g};n("elementEvent")})}function G(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)}var q,S=screen.width,T=screen.height,Q=!1,P=18E5,ba=location.href,X="",w=!1,Y=!1,y=0,U="",r="",x=!0,W=!1,K=0,z=document.referrer,E="",p="",V="",v="",B=1,k="",u="",A="",f={},m="",L=(new Date).getTime(),R=-1,C="",D="",e={},t={},aa={type:function(){var a=navigator.userAgent;return a.match(/AppleWebKit.*Mobile.*/)?-1!==a.indexOf(" wv")?2:1:0}()},ca=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;_hasdk=function(){return{push:Z,bindclick:ea,sendData:function(a,b,c,d){a?C=a:"";b?D=b:"";c?t=c:"";d?e.cvar=d:"";n("customEvent");return this},sendClickData:function(a,b,c,d){a?C=a:"";b?D=b:"";c?t=c:"";d?e.cvar=d:"";n("clickEvent");return this},setOnReportUrl:function(a){a?m=a:"";return this},setTitle:function(a){a?p=a:"";return this},setUserAccount:function(a){a?q=a:"";return this},setUid:function(a){a?V=a:"";return this},setCXX:function(a){a?U=a:"";return this},setBaseinfotypeSwitch:function(a){w=a;return this},setWindowCloseSwitch:function(a){Y=a;return this},setSessionTimeoutDuration:function(a){a?P=a:"";return this},setIdsite:function(a){a?r=a:"";return this},setPageData:function(a){a?E=a:"";return this},setReportMethod:function(a){a?W=a:!1;return this}}}();p?"":p=document.title;X=location.host;y=0;G(window,"beforeunload",function(){var a;a=(new Date).getTime();var b=a+500;J();l(g("viewts"),a,31536E6,"/");Y?n("baseinfotype"):"";if(b){var c=0;do if(a=new Date,c++,1E3<c)break;while(a.getTime()<b)}},!1);G(document,"visibilitychange",J);window.addEventListener?document.addEventListener("DOMContentLoaded",M,!1):window.attachEvent&&H()})();"undefined"!==typeof module&&"object"===typeof module.exports&&(module.exports=_hasdk);